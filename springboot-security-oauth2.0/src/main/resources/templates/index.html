<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head >
</head>
<body>
    <object data="fragments/header.html" th:include="fragments/header::header" th:remove="tag" />
	<div class="container">
      	<div class="mt-3">
        	<h2>Hello github 用户</h2>
        </div>
		<div sec:authorize="isAuthenticated()" th:if="${principal}" th:object="${principal}">
			<p>已有用户登录</p>
			<p>登录的用户为: <span sec:authentication="name"></span></p>
			<p>用户权限为: <span th:text="*{userAuthentication.authorities}"></span></p>
			<p>用户头像为: <img alt="" class="avatar width-full rounded-2"  th:src="*{userAuthentication.details.avatar_url}" height="100" width="100" /></p>
 			
		</div>
 		<div sec:authorize="isAnonymous()">
			<p>未有用户登录</p>
		</div>
	</div>
	<!-- /.container -->

	<object data="fragments/footer.html" th:include="fragments/footer::footer" th:remove="tag" />
</body>
</html>